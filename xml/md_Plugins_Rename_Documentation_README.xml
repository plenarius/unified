<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.16">
  <compounddef id="md_Plugins_Rename_Documentation_README" kind="page">
    <compoundname>md_Plugins_Rename_Documentation_README</compoundname>
    <title>Rename Plugin Reference</title>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<sect1 id="md_Plugins_Rename_Documentation_README_1autotoc_md193">
<title>Description</title>
<para>This plugin facilitates renaming, overriding and customization of player names.</para>
<para><table rows="3" cols="2"><row>
<entry thead="yes"><para>Script function  </para>
</entry><entry thead="yes"><para>Description   </para>
</entry></row>
<row>
<entry thead="no"><para>NWNX_Rename_SetPCNameOverride  </para>
</entry><entry thead="no"><para>Set a PCs floaty/chat name(sPrefix+sNewName+sSuffix) and name (sNewName) on the player list. If (iPlayerNameState) is set to NWNX_RENAME_PLAYERNAME_OVERRIDE the player name will change to (sNewName) on tells. If (iPlayerNameState) is set to NWNX_RENAME_PLAYERNAME_OBFUSCATE the player name will be set to a random string.   </para>
</entry></row>
<row>
<entry thead="no"><para>NWNX_Rename_GetPCNameOverride  </para>
</entry><entry thead="no"><para>Gets the PCs name as seen by a specified target or all clients.   </para>
</entry></row>
</table>
</para>
<para>If <computeroutput>iPlayerNameState</computeroutput> is set to <computeroutput>NWNX_RENAME_PLAYERNAME_DEFAULT</computeroutput> the player name will be untouched. DMs and the player themselves will still see their original player name regardless of option set. Will not persist through saving, resets or logout.</para>
<para>If a target object is specified, only that target will see the PCs name as defined. This overrides a global rename.</para>
<para>Due to the conflict with this plugin and the Tweaks plugin to hide classes on the module character listing, this module also provides that functionality.</para>
</sect1>
<sect1 id="md_Plugins_Rename_Documentation_README_1autotoc_md194">
<title>Environment Variables</title>
<para><table rows="5" cols="4"><row>
<entry thead="yes"><para>Variable Name  </para>
</entry><entry thead="yes"><para>Value  </para>
</entry><entry thead="yes"><para>Default  </para>
</entry><entry thead="yes"><para>Notes   </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>NWNX_RENAME_ON_MODULE_CHAR_LIST</computeroutput>  </para>
</entry><entry thead="no"><para>0-3  </para>
</entry><entry thead="no"><para>0  </para>
</entry><entry thead="no"><para>This is the listing of players from the character selection screen before entering the server. Setting the value to 1 overrides their names if a global rename has been set, 2 also hides class information, 3 hides class information but keeps names as their original.   </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>NWNX_RENAME_ON_PLAYER_LIST</computeroutput>  </para>
</entry><entry thead="no"><para>true or false  </para>
</entry><entry thead="no"><para>true  </para>
</entry><entry thead="no"><para>Renames the player name on the player list as well.   </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>NWNX_RENAME_ALLOW_DM</computeroutput>  </para>
</entry><entry thead="no"><para>true or false  </para>
</entry><entry thead="no"><para>false  </para>
</entry><entry thead="no"><para>DM observers will see global or personal overrides as well as being able to have their own name overridden for other observers.   </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>NWNX_RENAME_ANONYMOUS_NAME</computeroutput>  </para>
</entry><entry thead="no"><para>string  </para>
</entry><entry thead="no"><para>Someone  </para>
</entry><entry thead="no"><para>When using <computeroutput>NWNX_Rename_SetPCNameOverride</computeroutput> with <computeroutput>NWNX_RENAME_PLAYERNAME_ANONYMOUS</computeroutput> this is the string used for the &lt;PlayerName&gt;   </para>
</entry></row>
</table>
</para>
</sect1>
<sect1 id="md_Plugins_Rename_Documentation_README_1autotoc_md195">
<title>Sample Include</title>
<para><programlisting filename=".c"><codeline><highlight class="preprocessor">#include<sp/>&quot;nwnx_rename&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>For<sp/>GetPlayerID<sp/>function,<sp/>set<sp/>to<sp/>your<sp/>own<sp/>lib<sp/>that<sp/>returns<sp/>the<sp/>unique<sp/>player<sp/>ID<sp/>for<sp/>your<sp/>PW</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>Then<sp/>replace<sp/>GetPlayerID<sp/>in<sp/>this<sp/>include<sp/>to<sp/>whatever<sp/>your<sp/>call<sp/>is.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;inc_pc_db&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>UNKNOWN_PLAYER<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Unknown&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>UNKNOWN_PLAYER_PREFIX<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&lt;c~~~&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>UNKNOWN_PLAYER_SUFFIX<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&lt;/c&gt;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>RENAMED_PLAYER_PREFIX<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>RENAMED_PLAYER_SUFFIX<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>should<sp/>be<sp/>fired<sp/>on<sp/>client<sp/>enter<sp/>as<sp/>soon<sp/>as<sp/>possible,<sp/>it<sp/>loads<sp/>all</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>dynamic<sp/>names<sp/>for<sp/>the<sp/>PC<sp/>for<sp/>the<sp/>other<sp/>PCs<sp/>connected<sp/>and<sp/>the<sp/>dynamic</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>name<sp/>for<sp/>the<sp/>other<sp/>PCs<sp/>for<sp/>the<sp/>connecting<sp/>PC.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LoadNamesForPC(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>Stores<sp/>the<sp/>info<sp/>on<sp/>the<sp/>database</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SetDynamicNameDB(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC,<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oOtherPC,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sName,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDub<sp/>=<sp/>0);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>Returns<sp/>whether<sp/>the<sp/>PC<sp/>has<sp/>dubbed<sp/>the<sp/>target<sp/>PC<sp/>already</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>GetDynamicNameIsDubbed(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC,<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oTarget);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>use<sp/>three<sp/>custom<sp/>commands<sp/>=c<sp/>intro,<sp/>=c<sp/>introparty<sp/>and<sp/>=c<sp/>introarea<sp/>(20m<sp/>radius)</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>So<sp/>the<sp/>player<sp/>could<sp/>do<sp/>=c<sp/>intro<sp/>Joe<sp/>and<sp/>the<sp/>nearest<sp/>player<sp/>would<sp/>then<sp/>see<sp/>the<sp/>PCs</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>name<sp/>as<sp/>Joe</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>IntroducePlayers(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC,<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oTarget,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sName,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iType<sp/>=<sp/>0);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>Dub<sp/>works<sp/>the<sp/>other<sp/>way,<sp/>a<sp/>PC<sp/>can<sp/>dub<sp/>someone<sp/>what<sp/>they<sp/>wish<sp/>to<sp/>see<sp/>as<sp/>their</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>name.<sp/>=c<sp/>dub<sp/>Joseph<sp/>(nearest<sp/>PC)<sp/>would<sp/>then<sp/>change<sp/>the<sp/>target&apos;s<sp/>name<sp/>for<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>caller<sp/>to<sp/>Joseph.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DubPlayer(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC,<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oTarget,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sName);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>LoadNamesForPC(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__rename_1gaf3b4ba16315cc38473c5285eb913737e" kindref="member">NWNX_Rename_SetPCNameOverride</ref>(oPC,<sp/>UNKNOWN_PLAYER,<sp/>UNKNOWN_PLAYER_PREFIX,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UNKNOWN_PLAYER_SUFFIX,<sp/><ref refid="group__rename_1ga36cef09d9765eaa9e08d3eb4f5b223df" kindref="member">NWNX_RENAME_PLAYERNAME_OBFUSCATE</ref>);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nPCID<sp/>=<sp/>GetPlayerID(oPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oOtherPC<sp/>=<sp/>GetFirstPC();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(GetIsObjectValid(oOtherPC))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oOtherPC<sp/>!=<sp/>oPC)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nOtherPCID<sp/>=<sp/>GetPlayerID(oOtherPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sSQL<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;SELECT<sp/>name<sp/>FROM<sp/>dynamic_names<sp/>WHERE<sp/>pc1<sp/>=<sp/>?<sp/>AND<sp/>pc2<sp/>=<sp/>?&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1gae2e0e27014d82accfe4a0e510720515f" kindref="member">NWNX_SQL_PrepareQuery</ref>(sSQL);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(0,<sp/>nPCID);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(1,<sp/>nOtherPCID);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1gab7ec4280f37f01bafe8ce01f30cc7f13" kindref="member">NWNX_SQL_ExecutePreparedQuery</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__sql_1ga38fdaf8c308512015849ac94ffede3bb" kindref="member">NWNX_SQL_ReadyToReadNextRow</ref>())</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1gaefc1bce86231177b8f972a8c0dc91a0b" kindref="member">NWNX_SQL_ReadNextRow</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__rename_1gaf3b4ba16315cc38473c5285eb913737e" kindref="member">NWNX_Rename_SetPCNameOverride</ref>(oOtherPC,<sp/><ref refid="group__sql_1ga60dd9ffe0369ff795d4e375452edec51" kindref="member">NWNX_SQL_ReadDataInActiveRow</ref>(0),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RENAMED_PLAYER_PREFIX,<sp/>RENAMED_PLAYER_SUFFIX,<sp/><ref refid="group__rename_1ga1f09701e202d238a7d1b96b4c2e3cb2c" kindref="member">NWNX_RENAME_PLAYERNAME_OVERRIDE</ref>,<sp/>oPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1gae2e0e27014d82accfe4a0e510720515f" kindref="member">NWNX_SQL_PrepareQuery</ref>(sSQL);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(0,<sp/>nOtherPCID);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(1,<sp/>nPCID);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1gab7ec4280f37f01bafe8ce01f30cc7f13" kindref="member">NWNX_SQL_ExecutePreparedQuery</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__sql_1ga38fdaf8c308512015849ac94ffede3bb" kindref="member">NWNX_SQL_ReadyToReadNextRow</ref>())</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1gaefc1bce86231177b8f972a8c0dc91a0b" kindref="member">NWNX_SQL_ReadNextRow</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__rename_1gaf3b4ba16315cc38473c5285eb913737e" kindref="member">NWNX_Rename_SetPCNameOverride</ref>(oPC,<sp/><ref refid="group__sql_1ga60dd9ffe0369ff795d4e375452edec51" kindref="member">NWNX_SQL_ReadDataInActiveRow</ref>(0),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RENAMED_PLAYER_PREFIX,<sp/>RENAMED_PLAYER_SUFFIX,<sp/><ref refid="group__rename_1ga1f09701e202d238a7d1b96b4c2e3cb2c" kindref="member">NWNX_RENAME_PLAYERNAME_OVERRIDE</ref>,<sp/>oOtherPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oOtherPC<sp/>=<sp/>GetNextPC();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SetDynamicNameDB(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC,<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oOtherPC,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sName,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDub<sp/>=<sp/>0)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nPC1ID<sp/>=<sp/>GetPlayerID(oPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nPC2ID<sp/>=<sp/>GetPlayerID(oOtherPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nPC1ID<sp/>&amp;&amp;<sp/>nPC2ID)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sSQL<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;INSERT<sp/>INTO<sp/>dynamic_names<sp/>(pc1,<sp/>pc2,<sp/>name,<sp/>dub)<sp/>&quot;</highlight><highlight class="normal">+</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;VALUES<sp/>(?,<sp/>?,<sp/>?,<sp/>?)<sp/>ON<sp/>DUPLICATE<sp/>KEY<sp/>UPDATE<sp/>name<sp/>=<sp/>?,<sp/>dub<sp/>=<sp/>?&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1gae2e0e27014d82accfe4a0e510720515f" kindref="member">NWNX_SQL_PrepareQuery</ref>(sSQL);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(0,<sp/>nPC2ID);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(1,<sp/>nPC1ID);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga585546f0c7907cecde5a59508cbf4535" kindref="member">NWNX_SQL_PreparedString</ref>(2,<sp/>sName);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(3,<sp/>iDub);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga585546f0c7907cecde5a59508cbf4535" kindref="member">NWNX_SQL_PreparedString</ref>(4,<sp/>sName);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(5,<sp/>iDub);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1gab7ec4280f37f01bafe8ce01f30cc7f13" kindref="member">NWNX_SQL_ExecutePreparedQuery</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>GetDynamicNameIsDubbed(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC,<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oTarget)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nPCID<sp/>=<sp/>GetPlayerID(oPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nPCID2<sp/>=<sp/>GetPlayerID(oTarget);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDub<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sSQL<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;SELECT<sp/>dub<sp/>FROM<sp/>dynamic_names<sp/>WHERE<sp/>pc1<sp/>=<sp/>?<sp/>AND<sp/>pc2<sp/>=<sp/>?&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__sql_1gae2e0e27014d82accfe4a0e510720515f" kindref="member">NWNX_SQL_PrepareQuery</ref>(sSQL);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(0,<sp/>nPCID);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__sql_1ga7c23e812ad23b10c0906c55941edf930" kindref="member">NWNX_SQL_PreparedInt</ref>(1,<sp/>nPCID2);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__sql_1gab7ec4280f37f01bafe8ce01f30cc7f13" kindref="member">NWNX_SQL_ExecutePreparedQuery</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="group__sql_1ga38fdaf8c308512015849ac94ffede3bb" kindref="member">NWNX_SQL_ReadyToReadNextRow</ref>())</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__sql_1gaefc1bce86231177b8f972a8c0dc91a0b" kindref="member">NWNX_SQL_ReadNextRow</ref>();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iDub<sp/>=<sp/>StringToInt(<ref refid="group__sql_1ga60dd9ffe0369ff795d4e375452edec51" kindref="member">NWNX_SQL_ReadDataInActiveRow</ref>(0));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iDub;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>IntroducePlayers(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC,<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oTarget,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sName,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iType<sp/>=<sp/>0)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nPC1ID<sp/>=<sp/>GetPlayerID(oPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nPC2ID<sp/>=<sp/>GetPlayerID(oTarget);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nPC1ID<sp/>==<sp/>nPC2ID)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>iDub<sp/>=<sp/>GetDynamicNameIsDubbed(oTarget,<sp/>oPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sMyName<sp/>=<sp/><ref refid="group__rename_1ga66b5aa3317d00607131d11ef25e79f2e" kindref="member">NWNX_Rename_GetPCNameOverride</ref>(oPC,<sp/>oTarget);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sMyName<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sMyName<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Someone&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sTargetName<sp/>=<sp/><ref refid="group__rename_1ga66b5aa3317d00607131d11ef25e79f2e" kindref="member">NWNX_Rename_GetPCNameOverride</ref>(oTarget,<sp/>oPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sTargetName<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sTargetName<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Someone&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!iType)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SendMessageToPC(oPC,<sp/></highlight><highlight class="stringliteral">&quot;Introducing<sp/>yourself<sp/>to<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>sTargetName<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>as<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>sName<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(iDub)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SendMessageToPC(oTarget,<sp/></highlight><highlight class="stringliteral">&quot;Someone<sp/>wants<sp/>you<sp/>to<sp/>know<sp/>them<sp/>as<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>sName<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>but<sp/>you&apos;ve<sp/>&quot;</highlight><highlight class="normal">+</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;already<sp/>dubbed<sp/>them<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>sMyName<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>so<sp/>it&apos;s<sp/>ignored.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SendMessageToPC(oTarget,<sp/>sMyName<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>wants<sp/>you<sp/>to<sp/>know<sp/>them<sp/>as<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>sName<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__rename_1gaf3b4ba16315cc38473c5285eb913737e" kindref="member">NWNX_Rename_SetPCNameOverride</ref>(oPC,<sp/>sName,<sp/>RENAMED_PLAYER_PREFIX,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RENAMED_PLAYER_SUFFIX,<sp/><ref refid="group__rename_1ga1f09701e202d238a7d1b96b4c2e3cb2c" kindref="member">NWNX_RENAME_PLAYERNAME_OVERRIDE</ref>,<sp/>oTarget);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetDynamicNameDB(oPC,<sp/>oTarget,<sp/>sName);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DubPlayer(</highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oPC,<sp/></highlight><highlight class="keywordtype">object</highlight><highlight class="normal"><sp/>oTarget,<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sName)</highlight></codeline>
<codeline><highlight class="normal">{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sTargetName<sp/>=<sp/><ref refid="group__rename_1ga66b5aa3317d00607131d11ef25e79f2e" kindref="member">NWNX_Rename_GetPCNameOverride</ref>(oTarget,<sp/>oPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sTargetName<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sTargetName<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Someone&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>SendMessageToPC(oPC,<sp/>sTargetName<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>will<sp/>now<sp/>be<sp/>known<sp/>as<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>sName<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>to<sp/>you.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="group__rename_1gaf3b4ba16315cc38473c5285eb913737e" kindref="member">NWNX_Rename_SetPCNameOverride</ref>(oTarget,<sp/>sName,<sp/>RENAMED_PLAYER_PREFIX,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RENAMED_PLAYER_SUFFIX,<sp/><ref refid="group__rename_1ga1f09701e202d238a7d1b96b4c2e3cb2c" kindref="member">NWNX_RENAME_PLAYERNAME_OVERRIDE</ref>,<sp/>oPC);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>SetDynamicNameDB(oTarget,<sp/>oPC,<sp/>sName,<sp/>1);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting></para>
<para>And a corresponding MySQL example DB structure:</para>
<para><programlisting filename=".sql"><codeline><highlight class="keyword">CREATE</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">TABLE</highlight><highlight class="normal"><sp/>`dynamic_names`<sp/>(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>`id`<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">11</highlight><highlight class="normal">)<sp/>unsigned<sp/></highlight><highlight class="keyword">NOT</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">NULL</highlight><highlight class="normal"><sp/>AUTO_INCREMENT,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>`pc1`<sp/>mediumint(</highlight><highlight class="stringliteral">8</highlight><highlight class="normal">)<sp/>unsigned<sp/></highlight><highlight class="keyword">NOT</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">NULL</highlight><highlight class="normal">,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>`pc2`<sp/>mediumint(</highlight><highlight class="stringliteral">8</highlight><highlight class="normal">)<sp/>unsigned<sp/></highlight><highlight class="keyword">NOT</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">NULL</highlight><highlight class="normal">,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>`name`<sp/></highlight><highlight class="keywordtype">varchar</highlight><highlight class="normal">(</highlight><highlight class="stringliteral">40</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">NOT</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">NULL</highlight><highlight class="normal">,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>`dub`<sp/>tinyint(</highlight><highlight class="stringliteral">1</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">DEFAULT</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">NULL</highlight><highlight class="normal">,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">PRIMARY</highlight><highlight class="normal"><sp/>KEY<sp/>(`id`),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">UNIQUE</highlight><highlight class="normal"><sp/>KEY<sp/>`pair`<sp/>(`pc1`,`pc2`),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>KEY<sp/>`pc1`<sp/>(`pc1`),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>KEY<sp/>`pc2`<sp/>(`pc2`)</highlight></codeline>
<codeline><highlight class="normal">)<sp/>ENGINE=InnoDB<sp/></highlight><highlight class="keyword">DEFAULT</highlight><highlight class="normal"><sp/>CHARSET=utf8</highlight></codeline>
</programlisting> </para>
</sect1>
    </detaileddescription>
  </compounddef>
</doxygen>
